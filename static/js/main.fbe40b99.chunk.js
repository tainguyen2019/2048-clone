(this["webpackJsonp2048-game"]=this["webpackJsonp2048-game"]||[]).push([[0],[,,,,,,,,,,,function(e,n,t){},function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i=t(1),r=t.n(i),s=t(5),c=t.n(s),a=(t(11),t(3)),l=t(4),o=t(6),u=Array.from(Array(4).keys()).map((function(e){return null})),f=function(e,n){e.forEach((function(e){return n(e)}))},h=function(e){var n=d(e),t=n.length;if(!t)return e;var i=Math.floor(Math.random()*t),r=Math.random()<.9?2:4,s=n[i],c=s.row,a=s.col;return e[c][a]=r,e},d=function(e){var n=[];return e.forEach((function(e,t){e.forEach((function(e,i){e||n.push({row:t,col:i})}))})),n},b={shiftLeft:function(e){var n=[];return f(e,(function(e){n.push(function(e){for(var n=e.filter(Boolean).concat(u).slice(0,4),t=0;t<e.length-1;t++)n[t]&&n[t+1]&&n[t]===n[t+1]&&(n[t]=2*Number(n[t]),n[t+1]=null);return n.filter(Boolean).concat(u).slice(0,4)}(e))})),n},shiftRight:function(e){var n=[];return f(e,(function(e){n.push(function(e){for(var n=e.filter(Boolean),t=n.length-1;t>0;t--)n[t]&&n[t-1]&&n[t]===n[t-1]&&(n[t]=2*Number(n[t]),n[t-1]=null);return(n=u.concat(n.filter(Boolean))).slice(n.length-4)}(e))})),n},rotateRight:function(e){for(var n=[],t=0;t<e.length;t++){for(var i=[],r=e.length-1;r>=0;r--)i.push(e[r][t]);n.push(i)}return n},rotateLeft:function(e){for(var n=[],t=e.length-1;t>=0;t--){for(var i=[],r=0;r<e.length;r++)i.push(e[r][t]);n.push(i)}return n},shiftUp:function(e){var n=[];return n=b.rotateLeft(e),n=b.shiftLeft(n),n=b.rotateRight(n)},shiftDown:function(e){var n=[];return n=b.rotateRight(e),n=b.shiftLeft(n),n=b.rotateLeft(n)},addCell:function(e,n){return JSON.stringify(e)===JSON.stringify(n)?n:h(n)},getAvailableCells:function(e){return d(e)},initialGameLabels:function(){var e=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]];return e=h(e),e=h(e)},hasNoMovesLeft:function(e){var n=[];return n.push(JSON.stringify(b.shiftUp(e))===JSON.stringify(e)),n.push(JSON.stringify(b.shiftLeft(e))===JSON.stringify(e)),n.push(JSON.stringify(b.shiftDown(e))===JSON.stringify(e)),n.push(JSON.stringify(b.shiftRight(e))===JSON.stringify(e)),n.every((function(e){return!0===e}))},has2048:function(e){return e.flat().some((function(e){return 2048===Number(e)}))}},j=b,v=(t(12),t(0)),O=function(e){var n=e.label;return Object(v.jsx)("div",{className:"cell ".concat(n&&"cell-"+n),children:n})},m=(t(14),function(e){var n=e.labels;return Object(v.jsx)("div",{className:"row",children:n.map((function(e,n){return Object(v.jsx)(O,{label:e},n)}))})}),g=(t(15),function(e){var n=e.gameLabels,t=e.status,r=e.setGameLabels,s=e.setStatus,c=function(e){j.hasNoMovesLeft(e)&&s("over"),j.has2048(e)&&"continue"!==t&&s("won")},a=function(e){e.preventDefault();var t=[];switch(e.key){case"ArrowUp":t=j.addCell(n,j.shiftUp(n)),r(t);break;case"ArrowRight":t=j.addCell(n,j.shiftRight(n)),r(t);break;case"ArrowDown":t=j.addCell(n,j.shiftDown(n)),r(t);break;case"ArrowLeft":t=j.addCell(n,j.shiftLeft(n)),r(t)}c(t)},u=Object(o.useSwipeable)({onSwipedLeft:function(){var e;e=j.addCell(n,j.shiftLeft(n)),r(e),c(e)},onSwipedRight:function(){var e;e=j.addCell(n,j.shiftRight(n)),r(e),c(e)},onSwipedUp:function(){var e;e=j.addCell(n,j.shiftUp(n)),r(e),c(e)},onSwipedDown:function(){var e;e=j.addCell(n,j.shiftDown(n)),r(e),c(e)}});return Object(i.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(i.useEffect)((function(){["continue","running"].includes(t)||window.removeEventListener("keydown",a)}),[t]),Object(v.jsx)("div",Object(l.a)(Object(l.a)({className:"game-container"},u),{},{children:n.map((function(e,n){return Object(v.jsx)(m,{labels:e},n)}))}))}),w=(t(16),function(e){var n=e.scrore,t=e.bestScore,i=e.newGame;return Object(v.jsxs)("div",{className:"header",children:[Object(v.jsxs)("div",{className:"header-row",children:[Object(v.jsx)("div",{className:"title",children:"2048"}),Object(v.jsxs)("div",{className:"score",children:[Object(v.jsx)("div",{className:"score-label",children:"SCORE"}),Object(v.jsx)("div",{className:"score-value",children:n})]}),Object(v.jsxs)("div",{className:"score",children:[Object(v.jsx)("div",{className:"score-label",children:"BEST SCORE"}),Object(v.jsx)("div",{className:"score-value",children:t})]})]}),Object(v.jsxs)("div",{className:"new-game",children:[Object(v.jsx)("div",{className:"intro",children:"Join the numbers and get to the 2048 tile!"}),Object(v.jsx)("button",{onClick:i,children:"New Game"})]})]})}),x=(t(17),function(){return Object(v.jsxs)("div",{className:"footer",children:[Object(v.jsx)("b",{children:Object(v.jsx)("u",{children:"HOW TO PLAY"})}),": Use your arrow keys to move the tiles. When two tiles with the same number touch, they merge into one!"]})}),N=(t(18),function(e){var n=e.status,t=(e.setStatus,e.tryAgain),i=e.keepGoing,r=["running","continue"].includes(n)?"none":"flex";return Object(v.jsxs)("div",{className:"game-overlay",style:{display:r},children:["over"===n&&Object(v.jsxs)("div",{className:"overlay-box",children:[Object(v.jsx)("div",{className:"message",children:"Game Over!"}),Object(v.jsx)("button",{onClick:t,children:"Try Again"})]}),"won"===n&&Object(v.jsxs)("div",{className:"overlay-box",children:[Object(v.jsx)("div",{className:"message",children:"You win!"}),Object(v.jsxs)("div",{className:"row-button",children:[Object(v.jsx)("button",{onClick:t,children:"Try Again"}),Object(v.jsx)("button",{onClick:i,children:"Keep going"})]})]})]})}),p=(t(19),function(){var e=Object(i.useState)(j.initialGameLabels()),n=Object(a.a)(e,2),t=n[0],r=n[1],s=Object(i.useState)("running"),c=Object(a.a)(s,2),l=c[0],o=c[1],u=function(){r(j.initialGameLabels())};return Object(v.jsxs)("div",{className:"app-container",children:[Object(v.jsx)(w,{scrore:0,bestScore:0,newGame:u}),Object(v.jsx)(N,{status:l,setStatus:o,tryAgain:function(){o("running"),u()},keepGoing:function(){o("continue")}}),Object(v.jsx)(g,{gameLabels:t,status:l,setGameLabels:r,setStatus:o}),Object(v.jsx)(x,{})]})}),y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,s=n.getLCP,c=n.getTTFB;t(e),i(e),r(e),s(e),c(e)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(p,{})}),document.getElementById("root")),y()}],[[20,1,2]]]);
//# sourceMappingURL=main.fbe40b99.chunk.js.map